{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\87102\\\\Documents\\\\GitHub\\\\HistoryContest-2019\\\\historycontest2019\\\\src\\\\Components\\\\LoginModal\\\\LoginModal.js\";\nimport React from 'react';\nimport \"antd/dist/antd.css\";\nimport { Icon, Button, Input, Modal, message, Dropdown, Menu } from 'antd';\n\nclass LoginModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: true,\n      attemp: \"学生\",\n      name: \"\",\n      username: '',\n      password: '',\n      toDo: \"登录\"\n    };\n    this.ToLogin = this.ToLogin.bind(this);\n    this.close = this.close.bind(this);\n    this.signin = this.signin.bind(this);\n    this.ToSignin = this.ToSignin.bind(this);\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      visible: false\n    });\n    this.state.username = '';\n    this.state.password = '';\n  }\n\n  ToLogin() {\n    //暂时的登陆函数\n    //最后要区分登陆请求\n    let x = document.getElementById(\"username\").value;\n    let y = document.getElementById(\"password\").value;\n\n    if (isNaN(x)) {\n      message.warn(\"输入非学号哟\");\n      return;\n    } //学生登陆成功\n\n\n    console.log(\"login\");\n    message.success(\"登录成功！\");\n    this.props.onClicked({\n      isWelcome: false,\n      isStudent: true,\n      isLogin: true,\n      username: this.state.username\n    });\n  }\n\n  ToSignin() {\n    //暂时的注册函数\n    this.props.setState({\n      isWelcome: false,\n      isStudent: true,\n      isLogin: true\n    });\n  }\n\n  close() {\n    this.setState({\n      visible: false\n    });\n    this.props.close();\n  }\n\n  signin() {\n    this.setState({\n      toDo: \"注册\"\n    });\n  }\n\n  render() {\n    let login = React.createElement(\"div\", {\n      id: \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      title: React.createElement(Dropdown, {\n        overlay: React.createElement(Menu, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(Menu.Item, {\n          key: \"1\",\n          onClick: () => this.setState({\n            attemp: \"学生\"\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"\\u5B66\\u751F\"), React.createElement(Menu.Item, {\n          key: \"2\",\n          onClick: () => this.setState({\n            attemp: \"辅导员\"\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \"\\u8F85\\u5BFC\\u5458\"), React.createElement(Menu.Item, {\n          key: \"3\",\n          onClick: () => this.setState({\n            attemp: \"管理员\"\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"\\u7BA1\\u7406\\u5458\")),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"defult\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), this.state.attemp)),\n      visible: this.state.visible,\n      onOk: this.StudentToLogin,\n      onCancel: this.close,\n      footer: [React.createElement(Button, {\n        key: \"\\u8FD4\\u56DE\",\n        type: \"defult\",\n        onClick: this.close,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"\\u8FD4\\u56DE\"), React.createElement(Button, {\n        key: \"\\u767B\\u5F55\",\n        type: \"primary\",\n        onClick: this.ToLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"check-circle\",\n        theme: \"twoTone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), \"\\u767B\\u5F55\")],\n      visible: this.state.visible,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Input, {\n      id: \"username\",\n      addonBefore: \" \\u8D26\\u6237 \",\n      placeholder: \"\\u516B\\u4F4D\\u5B66\\u53F7\",\n      allowClear: true,\n      onChange: (x, v) => {\n        this.setState({\n          username: v\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(Input, {\n      id: \"password\",\n      addonBefore: \" \\u5BC6\\u7801 \",\n      placeholder: \"\\u4E00\\u5361\\u901A\\u53F7\\u7801\",\n      allowClear: true,\n      onChange: (x, v) => {\n        this.setState({\n          password: v\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), \"\\u975E\\u7279\\u6B8A\\u60C5\\u51B5\\u4E0D\\u7528\\u6CE8\\u518C\\u54E6~\\xA0\\xA0\", React.createElement(\"a\", {\n      onClick: this.signin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"\\u6CE8\\u518C\"))));\n    let sign = React.createElement(\"div\", {\n      id: \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      title: \"\\u5B66\\u751F\\u6CE8\\u518C \",\n      visible: this.state.visible,\n      onOk: this.StudentToLogin,\n      onCancel: this.close,\n      footer: [React.createElement(Button, {\n        key: \"\\u8FD4\\u56DE\",\n        type: \"defult\",\n        onClick: this.close,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"\\u8FD4\\u56DE\"), React.createElement(Button, {\n        key: \"\\u6CE8\\u518C\",\n        type: \"primary\",\n        onClick: this.ToSignin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"\\u6CE8\\u518C\")],\n      visible: this.state.visible,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Input, {\n      id: \"name\",\n      addonBefore: \" \\u59D3\\u540D \",\n      placeholder: \"\\u4F60\\u7684\\u59D3\\u540D\",\n      allowClear: true,\n      onChange: (x, v) => {\n        this.setState({\n          name: v\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(Input, {\n      id: \"username\",\n      addonBefore: \" \\u8D26\\u6237 \",\n      placeholder: \"\\u516B\\u4F4D\\u5B66\\u53F7\",\n      allowClear: true,\n      onChange: (x, v) => {\n        this.setState({\n          username: v\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Input, {\n      id: \"password\",\n      addonBefore: \" \\u5BC6\\u7801 \",\n      placeholder: \"\\u4E00\\u5361\\u901A\\u53F7\\u7801\",\n      allowClear: true,\n      onChange: (x, v) => {\n        this.setState({\n          password: v\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })));\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.state.toDo == \"登录\" ? login : sign);\n  }\n\n}\n\nexport default LoginModal;","map":{"version":3,"sources":["C:\\Users\\87102\\Documents\\GitHub\\HistoryContest-2019\\historycontest2019\\src\\Components\\LoginModal\\LoginModal.js"],"names":["React","Icon","Button","Input","Modal","message","Dropdown","Menu","LoginModal","Component","constructor","props","state","visible","attemp","name","username","password","toDo","ToLogin","bind","close","signin","ToSignin","componentWillUnmount","setState","x","document","getElementById","value","y","isNaN","warn","console","log","success","onClicked","isWelcome","isStudent","isLogin","render","login","StudentToLogin","v","sign"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport \"antd/dist/antd.css\"\r\nimport {Icon,Button,Input,Modal,message,Dropdown,Menu} from 'antd';\r\n\r\nclass LoginModal extends React.Component{\r\n  constructor(props){\r\n      super(props);\r\n      this.state={\r\n          visible:true,\r\n          attemp:\"学生\",\r\n          name:\"\",\r\n          username:'',\r\n          password:'',\r\n          toDo:\"登录\"\r\n      }\r\n      this.ToLogin=this.ToLogin.bind(this);\r\n      this.close=this.close.bind(this);\r\n      this.signin=this.signin.bind(this);\r\n      this.ToSignin=this.ToSignin.bind(this);\r\n  }\r\n  componentWillUnmount(){\r\n      this.setState({visible:false});\r\n      this.state.username='';\r\n      this.state.password='';\r\n  }\r\n  ToLogin(){\r\n      //暂时的登陆函数\r\n      //最后要区分登陆请求\r\n      let x=document.getElementById(\"username\").value;\r\n      let y=document.getElementById(\"password\").value;\r\n      if(isNaN(x)) {\r\n          message.warn(\"输入非学号哟\");\r\n          return;\r\n      }\r\n      //学生登陆成功\r\n      console.log(\"login\");\r\n      message.success(\"登录成功！\");\r\n      this.props.onClicked({isWelcome:false,isStudent:true,isLogin:true,username:this.state.username});\r\n  }\r\n  ToSignin(){\r\n      //暂时的注册函数\r\n      this.props.setState({isWelcome:false,isStudent:true,isLogin:true});\r\n  }\r\n  close(){\r\n      this.setState({visible:false});\r\n      this.props.close();\r\n  }\r\n  signin(){\r\n      this.setState({toDo:\"注册\"});\r\n  }\r\n  render(){ \r\n      let login=<div id='modal'>\r\n      <Modal \r\n          title={\r\n       <Dropdown overlay={\r\n          <Menu>\r\n              <Menu.Item key=\"1\" onClick={()=>this.setState({attemp:\"学生\"})}>学生</Menu.Item>\r\n              <Menu.Item key=\"2\" onClick={()=>this.setState({attemp:\"辅导员\"})}>辅导员</Menu.Item>\r\n              <Menu.Item key=\"3\" onClick={()=>this.setState({attemp:\"管理员\"})}>管理员</Menu.Item>\r\n          </Menu >}>\r\n          <Button type=\"defult\">\r\n              <Icon type=\"down\" />\r\n              {this.state.attemp}\r\n          </Button>\r\n      </Dropdown>}\r\n          visible={this.state.visible}\r\n          onOk={this.StudentToLogin}\r\n          onCancel={this.close}\r\n          footer={[\r\n              <Button key=\"返回\" type=\"defult\" onClick={this.close}>\r\n                返回\r\n              </Button>,\r\n              <Button key=\"登录\" type=\"primary\" onClick={this.ToLogin}>\r\n                  <Icon type=\"check-circle\" theme=\"twoTone\" />\r\n                登录\r\n              </Button>\r\n            ]}\r\n          visible={this.state.visible}\r\n      >\r\n          <Input id=\"username\"addonBefore=\" 账户 \"placeholder=\"八位学号\" allowClear onChange={(x,v)=>{this.setState({username:v})}}></Input>\r\n          <p></p>\r\n          <Input id=\"password\"addonBefore=\" 密码 \" placeholder=\"一卡通号码\" allowClear onChange={(x,v)=>{this.setState({password:v})}}></Input>\r\n          <p > <br></br>非特殊情况不用注册哦~&nbsp;&nbsp;\r\n          <a onClick={this.signin}>\r\n            注册\r\n          </a>\r\n          </p>\r\n\r\n      </Modal>\r\n      </div>\r\n\r\n      \r\n      let sign=<div id='modal'>\r\n      <Modal \r\n          title=\"学生注册 \"\r\n          visible={this.state.visible}\r\n          onOk={this.StudentToLogin}\r\n          onCancel={this.close}\r\n          footer={ [\r\n              <Button key=\"返回\" type=\"defult\"  onClick={this.close}>\r\n                返回\r\n              </Button>,\r\n              <Button key=\"注册\" type=\"primary\" onClick={this.ToSignin}>\r\n                注册\r\n              </Button>\r\n          ]}\r\n          visible={this.state.visible}\r\n      >\r\n          <Input id=\"name\"addonBefore=\" 姓名 \"placeholder=\"你的姓名\" allowClear onChange={(x,v)=>{this.setState({name:v})}}></Input>\r\n          <p></p>\r\n          <Input id=\"username\"addonBefore=\" 账户 \"placeholder=\"八位学号\" allowClear onChange={(x,v)=>{this.setState({username:v})}}></Input>\r\n          <p></p>\r\n          <Input id=\"password\"addonBefore=\" 密码 \" placeholder=\"一卡通号码\" allowClear onChange={(x,v)=>{this.setState({password:v})}}></Input>\r\n\r\n      </Modal>\r\n      </div>\r\n      return(\r\n          <React.Fragment>\r\n              {this.state.toDo==\"登录\"?login:sign}\r\n          </React.Fragment>\r\n      )\r\n          }\r\n  }\r\n  \r\n  export default LoginModal;"]},"metadata":{},"sourceType":"module"}