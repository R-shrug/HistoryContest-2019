{"ast":null,"code":"import _classCallCheck from \"E:\\\\projects\\\\HistotyContest_2019\\\\HistoryContest-2019\\\\HistoryContest_2019_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\projects\\\\HistotyContest_2019\\\\HistoryContest-2019\\\\HistoryContest_2019_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\projects\\\\HistotyContest_2019\\\\HistoryContest-2019\\\\HistoryContest_2019_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\projects\\\\HistotyContest_2019\\\\HistoryContest-2019\\\\HistoryContest_2019_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\projects\\\\HistotyContest_2019\\\\HistoryContest-2019\\\\HistoryContest_2019_client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\projects\\\\HistotyContest_2019\\\\HistoryContest-2019\\\\HistoryContest_2019_client\\\\src\\\\Components\\\\Timer\\\\Timer.js\";\nimport React from 'react';\nimport 'antd/dist/antd.css';\nimport 'rc-texty/assets/index.css';\nimport { Icon, notification } from 'antd';\nimport Texty from 'rc-texty';\n\nvar Timer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Timer, _React$Component);\n\n  function Timer(props) {\n    var _this;\n\n    _classCallCheck(this, Timer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Timer).call(this, props));\n    _this.state = {\n      min: _this.props.min,\n      sec: _this.props.sec,\n      isClocking: true\n    };\n    return _this;\n  }\n\n  _createClass(Timer, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.timerId = setInterval(function () {\n        var x = this.state.sec;\n        var y = this.state.min;\n\n        if (y == 0 && x == 0) {\n          clearInterval(this.timerId);\n          this.state.isClocking = false;\n          this.props.finish();\n        } else if (x > 0) {\n          this.setState({\n            sec: x - 1\n          });\n        } else {\n          this.setState({\n            sec: 59,\n            min: y - 1\n          });\n        }\n\n        if (y == 1 && x == 0 && this.props.info == \"  答题倒计时：\") {\n          notification.open({\n            message: \"时间还有1分钟\",\n            description: \"距离自动交卷只剩1分钟了哦，同学要加油啦\",\n            icon: React.createElement(Icon, {\n              type: \"clock-circle\",\n              style: {\n                color: \"rgb(248, 39, 39)\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 36\n              },\n              __self: this\n            })\n          });\n        } else if (y == 10 && x == 0 && this.props.info == \"  答题倒计时：\") {\n          notification.open({\n            message: \"时间还有10分钟\",\n            description: \"距离自动交卷还有10分钟，同学要加油啦\",\n            icon: React.createElement(Icon, {\n              type: \"clock-circle\",\n              style: {\n                color: \"rgb(248, 39, 39)\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 43\n              },\n              __self: this\n            })\n          });\n        }\n      }.bind(this), 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.isClocking) {\n        clearInterval(this.timerId);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          color: \"white\",\n          fontSize: \"calc(15px + 2vmin)\"\n        },\n        type: \"scaleY\",\n        mode: \"sync\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, this.props.info + this.state.min + \" 分 \" + this.state.sec + \" 秒 \"));\n    }\n  }]);\n\n  return Timer;\n}(React.Component);\n\nexport default Timer;","map":{"version":3,"sources":["E:\\projects\\HistotyContest_2019\\HistoryContest-2019\\HistoryContest_2019_client\\src\\Components\\Timer\\Timer.js"],"names":["React","Icon","notification","Texty","Timer","props","state","min","sec","isClocking","timerId","setInterval","x","y","clearInterval","finish","setState","info","open","message","description","icon","color","bind","fontSize","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;AACA,OAAO,2BAAP;AACA,SAAQC,IAAR,EAAcC,YAAd,QAAiC,MAAjC;AACA,OAAOC,KAAP,MAAkB,UAAlB;;IAEMC,K;;;;;AACF,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,+EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,GAAG,EAAE,MAAKF,KAAL,CAAWE,GADP;AAETC,MAAAA,GAAG,EAAE,MAAKH,KAAL,CAAWG,GAFP;AAGTC,MAAAA,UAAU,EAAE;AAHH,KAAb;AAFe;AAOlB;;;;yCACoB;AACjB,WAAKC,OAAL,GAAeC,WAAW,CACtB,YAAY;AACR,YAAIC,CAAC,GAAG,KAAKN,KAAL,CAAWE,GAAnB;AACA,YAAIK,CAAC,GAAG,KAAKP,KAAL,CAAWC,GAAnB;;AACA,YAAIM,CAAC,IAAI,CAAL,IAAUD,CAAC,IAAI,CAAnB,EAAsB;AAClBE,UAAAA,aAAa,CAAC,KAAKJ,OAAN,CAAb;AACA,eAAKJ,KAAL,CAAWG,UAAX,GAAwB,KAAxB;AACA,eAAKJ,KAAL,CAAWU,MAAX;AACH,SAJD,MAKK,IAAIH,CAAC,GAAG,CAAR,EAAW;AACZ,eAAKI,QAAL,CAAc;AAAER,YAAAA,GAAG,EAAEI,CAAC,GAAG;AAAX,WAAd;AACH,SAFI,MAGA;AACD,eAAKI,QAAL,CAAc;AAAER,YAAAA,GAAG,EAAE,EAAP;AAAWD,YAAAA,GAAG,EAAEM,CAAC,GAAG;AAApB,WAAd;AACH;;AACD,YAAIA,CAAC,IAAI,CAAL,IAAUD,CAAC,IAAI,CAAf,IAAkB,KAAKP,KAAL,CAAWY,IAAX,IAAiB,UAAvC,EAAmD;AAC/Cf,UAAAA,YAAY,CAACgB,IAAb,CAAkB;AACdC,YAAAA,OAAO,EAAE,SADK;AAEdC,YAAAA,WAAW,EAAE,sBAFC;AAGdC,YAAAA,IAAI,EAAE,oBAAC,IAAD;AAAM,cAAA,IAAI,EAAC,cAAX;AAA0B,cAAA,KAAK,EAAE;AAAEC,gBAAAA,KAAK,EAAE;AAAT,eAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHQ,WAAlB;AAKH,SAND,MAOK,IAAIT,CAAC,IAAI,EAAL,IAAWD,CAAC,IAAI,CAAhB,IAAmB,KAAKP,KAAL,CAAWY,IAAX,IAAiB,UAAxC,EAAoD;AACrDf,UAAAA,YAAY,CAACgB,IAAb,CAAkB;AACdC,YAAAA,OAAO,EAAE,UADK;AAEdC,YAAAA,WAAW,EAAE,qBAFC;AAGdC,YAAAA,IAAI,EAAE,oBAAC,IAAD;AAAM,cAAA,IAAI,EAAC,cAAX;AAA0B,cAAA,KAAK,EAAE;AAAEC,gBAAAA,KAAK,EAAE;AAAT,eAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHQ,WAAlB;AAKH;AAEJ,OA7BD,CA6BEC,IA7BF,CA6BO,IA7BP,CADsB,EA+BtB,IA/BsB,CAA1B;AAiCH;;;2CACsB;AACnB,UAAI,KAAKjB,KAAL,CAAWG,UAAf,EAA2B;AACvBK,QAAAA,aAAa,CAAC,KAAKJ,OAAN,CAAb;AACH;AACJ;;;6BACQ;AACL,aACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAE;AAAEY,UAAAA,KAAK,EAAE,OAAT;AAAkBE,UAAAA,QAAQ,EAAE;AAA5B,SAAZ;AAAgE,QAAA,IAAI,EAAC,QAArE;AAA8E,QAAA,IAAI,EAAC,MAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEK,KAAKnB,KAAL,CAAWY,IAAX,GAAgB,KAAKX,KAAL,CAAWC,GAA3B,GAA+B,KAA/B,GAAqC,KAAKD,KAAL,CAAWE,GAAhD,GAAoD,KAFzD,CADJ,CADJ;AAQH;;;;EA1DeR,KAAK,CAACyB,S;;AA6D1B,eAAerB,KAAf","sourcesContent":["import React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport 'rc-texty/assets/index.css';\r\nimport {Icon, notification} from 'antd';\r\nimport Texty from 'rc-texty';\r\n\r\nclass Timer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            min: this.props.min,\r\n            sec: this.props.sec,\r\n            isClocking: true\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        this.timerId = setInterval(\r\n            function () {\r\n                let x = this.state.sec;\r\n                let y = this.state.min;\r\n                if (y == 0 && x == 0) {\r\n                    clearInterval(this.timerId);\r\n                    this.state.isClocking = false;\r\n                    this.props.finish();\r\n                }\r\n                else if (x > 0) {\r\n                    this.setState({ sec: x - 1 });\r\n                }\r\n                else {\r\n                    this.setState({ sec: 59, min: y - 1 });\r\n                }\r\n                if (y == 1 && x == 0&&this.props.info==\"  答题倒计时：\") {\r\n                    notification.open({\r\n                        message: \"时间还有1分钟\",\r\n                        description: \"距离自动交卷只剩1分钟了哦，同学要加油啦\",\r\n                        icon: <Icon type=\"clock-circle\" style={{ color: \"rgb(248, 39, 39)\" }} />\r\n                    })\r\n                }\r\n                else if (y == 10 && x == 0&&this.props.info==\"  答题倒计时：\") {\r\n                    notification.open({\r\n                        message: \"时间还有10分钟\",\r\n                        description: \"距离自动交卷还有10分钟，同学要加油啦\",\r\n                        icon: <Icon type=\"clock-circle\" style={{ color: \"rgb(248, 39, 39)\" }} />\r\n                    })\r\n                }\r\n\r\n            }.bind(this),\r\n            1000\r\n        )\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.state.isClocking) {\r\n            clearInterval(this.timerId);\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div style={{ color: \"white\", fontSize: \"calc(15px + 2vmin)\" }} type=\"scaleY\" mode=\"sync\" >\r\n                    {/* <Icon type=\"clock-circle\" style={{ color: \"rgb(248, 39, 39)\", fontSize: \"25px\" }} /> */}\r\n                    {this.props.info+this.state.min+\" 分 \"+this.state.sec+\" 秒 \"}\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Timer;"]},"metadata":{},"sourceType":"module"}