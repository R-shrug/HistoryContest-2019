(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{694:function(e,t,a){},695:function(e,t,a){e.exports=a.p+"static/media/1.aaa2f054.jpg"},696:function(e,t,a){e.exports=a.p+"static/media/\u4e1c\u5357\u5927\u5b66.4d927cf5.png"},697:function(e,t,a){e.exports=a.p+"static/media/\u6821\u53f2\u6821\u60c5\u77e5\u8bc6\u7ade\u8d5b .daeb1214.PNG"},698:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAc0AAAEPCAIAAACvBwj1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTA3LTIwVDEzOjU4OjIzKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wNy0yMFQxNDowODoxMyswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wNy0yMFQxNDowODoxMyswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNTBhODgxOC05ODlk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"},889:function(e,t,a){"use strict";a.r(t);var n=a(103),o=a(104),s=a(107),i=a(105),c=a(48),l=a(106),r=a(9),m=a.n(r),u=(a(694),a(169),a(695)),g=a.n(u),h=a(696),d=a.n(h),A=a(697),p=a.n(A),b=a(388),w=a(423),C=a.n(w),E=a(480),f=a(424),k=a(503),S=a(879),O=a(885),v=a(501),y=a(689),L=a(479),W=a(886),j=a(698),B=a.n(j),D=a(476),M=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state=Object(k.a)({visible:!0,attemp:"0",username:"",password:"",toDo:"\u767b\u5f55",posted:!1},a.initState(),{inputValue:""}),a.ToLogin=a.ToLogin.bind(Object(c.a)(a)),a.close=a.close.bind(Object(c.a)(a)),a.signin=a.signin.bind(Object(c.a)(a)),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"ToLogin",value:function(){var e=this,t=this.state.data.map(function(e){return String.fromCharCode(e>57&&e<84?e+7:e<57?e:e+13)}).join(""),a=this,n=this.state.username,o=this.state.password,s=this.state.attemp;t.toLowerCase()==a.state.inputValue.toLowerCase()?8==n.length&&9==o.length?(this.setState({posted:!0}),fetch("http://"+a.props.host+"/api/ui/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({Username:n,Password:o,Identity:s})}).then(function(){var t=Object(f.a)(C.a.mark(function t(n){var o,i;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({posted:!1}),404!=n.status&&500!=n.status){t.next=6;break}e.setState(Object(k.a)({},e.initState(),{refresh:!1})),S.a.error("\u7528\u6237\u540d\u4e0d\u5b58\u5728!",1),t.next=17;break;case 6:if(403!=n.status){t.next=11;break}e.setState(Object(k.a)({},e.initState(),{refresh:!1})),S.a.error("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef!",1),t.next=17;break;case 11:return t.next=13,n.json();case 13:o=t.sent,console.log("login!"),S.a.success("\u767b\u5f55\u6210\u529f",1),"0"==s?-1==o.Score?a.props.setState((i={isWelcome:!1,isStudent:!0,isLogin:!0,username:e.state.username,token:o.Token},Object(E.a)(i,"username",e.state.username),Object(E.a)(i,"name",o.Name),Object(E.a)(i,"score",o.Score),Object(E.a)(i,"token",o.Token),Object(E.a)(i,"access",0),i)):a.props.setState({isWelcome:!1,isStudent:!0,isLogin:!0,username:e.state.username,score:o.Score,name:o.Name,token:o.Token,access:0}):"2"==s?a.props.setState({isWelcome:!1,isTeacher:!0,token:o.Token,name:o.Name,username:e.state.username,departId:o.Id,depart:o.Department,access:2}):"1"==s&&a.props.setState({isWelcome:!1,isAdmin:!0,token:o.Token,name:o.Name,username:e.state.username,access:1});case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){console.log(t),e.setState(Object(k.a)({},e.initState(),{refresh:!1})),a.setState({posted:!1}),S.a.error("\u7528\u6237\u540d\u4e0d\u5b58\u5728!",1)})):(this.setState(Object(k.a)({},this.initState(),{refresh:!1})),S.a.error("\u8d26\u6237\u6216\u5bc6\u7801\u683c\u5f0f\u4e0d\u7b26!")):(console.log("false"),a.setState({posted:!1}),this.setState(Object(k.a)({},this.initState(),{refresh:!1})),S.a.error("\u9a8c\u8bc1\u7801\u9519\u8bef",1))}},{key:"close",value:function(){this.setState({visible:!1}),this.props.close()}},{key:"signin",value:function(){this.setState({toDo:"\u6ce8\u518c"})}},{key:"initState",value:function(){return{data:this.getRandom(109,48,4),rotate:this.getRandom(60,-60,4),fz:this.getRandom(15,25,4),color:[this.getRandom(100,200,3),this.getRandom(100,200,3),this.getRandom(100,200,3),this.getRandom(100,200,3)]}}},{key:"getRandom",value:function(e,t,a){var n=~~(Math.random()*(e-t+1)+t);if(!Boolean(a))return n;for(var o=[],s=0;s<a;s++)o.push(this.getRandom(e,t));return o}},{key:"render",value:function(){var e,t=this,a=m.a.createElement("div",{id:"modal"},m.a.createElement(O.a,(e={visible:this.props.visible,closable:!1,destroyOnClose:!0,title:m.a.createElement(v.a,{overlay:m.a.createElement(y.b,null,m.a.createElement(y.b.Item,{key:"1",onClick:function(){return t.setState({attemp:"0"})}},"\u5b66\u751f"),m.a.createElement(y.b.Item,{key:"2",onClick:function(){return t.setState({attemp:"2"})}},"\u8f85\u5bfc\u5458"),m.a.createElement(y.b.Item,{key:"3",onClick:function(){return t.setState({attemp:"1"})}},"\u7ba1\u7406\u5458"))},m.a.createElement(L.a,{type:"defult"},m.a.createElement(b.a,{type:"down"}),0==this.state.attemp&&"\u5b66\u751f",2==this.state.attemp&&"\u8f85\u5bfc\u5458",1==this.state.attemp&&"\u7ba1\u7406\u5458"))},Object(E.a)(e,"visible",this.state.visible),Object(E.a)(e,"onOk",this.StudentToLogin),Object(E.a)(e,"onCancel",this.close),Object(E.a)(e,"footer",[m.a.createElement(L.a,{key:"\u8fd4\u56de",type:"defult",onClick:this.close},"\u8fd4\u56de"),m.a.createElement(L.a,{key:"\u767b\u5f55",type:"primary",onClick:this.ToLogin,loading:this.state.posted},m.a.createElement(b.a,{type:"check-circle",theme:"twoTone"}),"\u767b\u5f55")]),Object(E.a)(e,"visible",this.state.visible),e),m.a.createElement(D.a,{delay:180},m.a.createElement(W.a,{key:"username",id:"username",addonBefore:" \u8d26\u6237 ",prefix:m.a.createElement(b.a,{type:"user"}),placeholder:"0"==this.state.attemp?"\u516b\u4f4d\u5b66\u53f7":"\u7ba1\u7406\u5458\u8d26\u6237",allowClear:!0,onChange:function(e){t.setState({username:e.target.value})}})),m.a.createElement("p",null),m.a.createElement(D.a,{delay:180},m.a.createElement(W.a.Password,{key:"password",id:"password",addonBefore:" \u5bc6\u7801 ",onPressEnter:this.ToLogin,prefix:m.a.createElement(b.a,{type:"lock"}),placeholder:"0"==this.state.attemp?"\u4e00\u5361\u901a\u53f7\u7801":"\u7ba1\u7406\u5458\u5bc6\u7801",allowClear:!0,onChange:function(e){t.setState({password:e.target.value})}})),m.a.createElement("p",null),m.a.createElement(D.a,{delay:180},m.a.createElement("p",{key:"check",style:{marginRight:0}},m.a.createElement(W.a,{style:{width:"70%"},addonBefore:"\u9a8c\u8bc1\u7801",onPressEnter:this.ToLogin,placeholder:"\u4e0d\u533a\u5206\u5927\u5c0f\u5199",onChange:function(e){t.setState({inputValue:e.target.value})},suffix:m.a.createElement("div",{style:{width:120,height:30,backgroundImage:"url(".concat(B.a,")"),textAlign:"center"}},this.state.data.map(function(e,a){return m.a.createElement("div",{key:a,className:"itemStr",style:{transform:"skewX(".concat(t.state.rotate[a],"deg)"),fontSize:"".concat(t.state.fz[a],"px"),color:"rgb(".concat(t.state.color[a].toString(),")"),display:"inline-block",MozUserSelect:"-moz-none",KhtmlUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",userSelect:"none"},onMouseEnter:function(){return t.setState({refresh:!0})}},String.fromCharCode(e>57&&e<84?e+7:e<57?e:e+13),"\xa0\xa0")}),this.state.refresh?m.a.createElement("div",{className:"mask",onClick:function(){t.setState(Object(k.a)({},t.initState(),{refresh:!1}))},onMouseLeave:function(){t.setState({refresh:!1})},style:{fontSize:"10px"}},"\u770b\u4e0d\u6e05\uff1f\u70b9\u51fb\u6b64\u5904\u5237\u65b0"):null)}))),m.a.createElement("p",null," ",m.a.createElement("br",null),"0"==this.state.attemp?m.a.createElement("a",{onClick:function(){t.setState({attemp:"1",toDo:"\u6ce8\u518c"})}},"\xa0\xa0\u6ca1\u6709\u8d26\u53f7?"):m.a.createElement("div",null)))),n=m.a.createElement("div",{id:"modal"},m.a.createElement(O.a,Object(E.a)({title:"\u6ce8\u518c\u9700\u7ba1\u7406\u5458\u767b\u5f55",visible:this.state.visible,onOk:this.StudentToLogin,onCancel:this.close,footer:[m.a.createElement(L.a,{key:"\u8fd4\u56de",type:"defult",onClick:this.close},"\u8fd4\u56de"),m.a.createElement(L.a,{key:"\u6ce8\u518c",type:"primary",onClick:this.ToLogin},"\u767b\u5f55")]},"visible",this.state.visible),m.a.createElement(W.a,{id:"username",addonBefore:" \u8d26\u6237 ",placeholder:"\u7ba1\u7406\u5458\u8d26\u6237",allowClear:!0,onChange:function(e,a){t.setState({username:a})}}),m.a.createElement("p",null),m.a.createElement(W.a.Password,{id:"password",addonBefore:" \u5bc6\u7801 ",onPressEnter:this.ToLogin,placeholder:"\u7ba1\u7406\u5458\u5bc6\u7801",allowClear:!0,onChange:function(e,a){t.setState({password:a})}}),m.a.createElement("p",null," "),m.a.createElement(W.a,{style:{width:"70%"},addonBefore:"\u9a8c\u8bc1\u7801",onPressEnter:this.ToLogin,placeholder:"\u4e0d\u533a\u5206\u5927\u5c0f\u5199",onChange:function(e){t.setState({inputValue:e.target.value})},suffix:m.a.createElement("div",{style:{width:120,height:30,backgroundImage:"url(".concat(B.a,")"),textAlign:"center"}},this.state.data.map(function(e,a){return m.a.createElement("div",{key:a,className:"itemStr",style:{transform:"skewX(".concat(t.state.rotate[a],"deg)"),fontSize:"".concat(t.state.fz[a],"px"),color:"rgb(".concat(t.state.color[a].toString(),")"),display:"inline-block"},onMouseEnter:function(){return t.setState({refresh:!0})}},String.fromCharCode(e>57&&e<84?e+7:e<57?e:e+13),"\xa0\xa0")}),this.state.refresh?m.a.createElement("div",{className:"mask",onClick:function(){t.setState(Object(k.a)({},t.initState(),{refresh:!1}))},onMouseLeave:function(){t.setState({refresh:!1})},style:{fontSize:"10px"}},"\u770b\u4e0d\u6e05\uff1f\u70b9\u51fb\u6b64\u5904\u5237\u65b0"):null)}),m.a.createElement("br",null)));return m.a.createElement(m.a.Fragment,null,"\u767b\u5f55"==this.state.toDo?a:n)}}]),t}(m.a.Component),z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={logining:!1},a.open=a.open.bind(Object(c.a)(a)),a.closModal=a.closModal.bind(Object(c.a)(a)),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"open",value:function(){this.setState({logining:!0})}},{key:"closModal",value:function(){this.setState({logining:!1})}},{key:"componentWillUnmount",value:function(){console.log(this.props.state.username)}},{key:"render",value:function(){var e=m.a.createElement("div",{className:"WEL",style:{minWidth:"500px"}},m.a.createElement("header",{className:"welcome",id:"background",style:{backgroundImage:"url(".concat(g.a,")"),backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%",position:"absolute",top:"0px",bottom:"0px"}},m.a.createElement(D.a,{interval:40,duration:2e3,animConfig:[{opacity:[1,0],translateY:[0,50]}]},m.a.createElement("b",{key:"1",className:"sma"},m.a.createElement("img",{src:d.a,height:"30%",width:"32%"})),m.a.createElement("br",null),m.a.createElement("b",{key:"2",className:"top"},m.a.createElement("img",{src:p.a,height:"45%",width:"90%"}),m.a.createElement("br",null)," "),m.a.createElement("p",{key:"space1"})),m.a.createElement(D.a,{animConfig:[{opacity:[1,0],translateY:[0,100]}]},m.a.createElement("button",{key:"button",className:"login-button",onClick:this.open},m.a.createElement(b.a,{type:"login",style:{color:"white"}}),"\xa0",m.a.createElement("b",null,"\u767b\u5f55 \xa0 Login")),m.a.createElement("p",{key:"space2"})))),t=m.a.createElement("div",{className:"WEL"},m.a.createElement(M,{state:this.state,host:this.props.state.host,setState:this.props.setState,close:this.closModal}),m.a.createElement("header",{className:"welcome",id:"background",style:{backgroundImage:"url(".concat(g.a,")"),backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%",position:"absolute",top:"0px",bottom:"0px"}},m.a.createElement("b",{className:"sma"},m.a.createElement("img",{src:d.a,height:"100px",width:"300px"})),m.a.createElement("br",null),m.a.createElement("b",{className:"top"},m.a.createElement("img",{src:p.a,height:"140px",width:"936px"}),m.a.createElement("br",null)," "),m.a.createElement("p",null),m.a.createElement("button",{className:"login-button",onClick:this.open,disabled:!0},m.a.createElement(b.a,{type:"loading",style:{color:"white"}}),"\xa0",m.a.createElement("b",null,"\u767b\u5f55\u4e2d")),m.a.createElement("p",null)));return this.state.logining?t:e}}]),t}(m.a.Component);t.default=z}}]);
//# sourceMappingURL=11.752dec3c.chunk.js.map